## Баг - репорт

**Окружение тестирования**:  
- ОС: Windows 11 23H2 (Build 22631.3810)  
- Архитектура: x64  
- Базовый URL: `https://qa-internship.avito.com`

## Критические нарушения

### 1. Нарушение целостности данных статистики
**Сценарий**: `POST -> GET проверка статистических данных`  

**Шаги**:  
1. Создать объявление:
```http
POST /api/1/item
{
  "sellerId": 731986,
  "name": "Велосипед",
  "price": 1500,
  "statistics": {
    "likes": 34,
    "viewCount": 540,
    "contacts": 39
  }
}
```
2. Получить статистику через GET /api/1/statistic/{id}

**Ожидаемо:**

Точное соответствие переданным значениям

**Реальность:**
```
[{
  "likes": 1,
  "viewCount": 1,
  "contacts": 39
}]
```

### 2. Отсутствие базовой валидации
**Сценарий:**

Создание объектов с недопустимыми параметрами

**Примеры:**
```
Пустое тело запроса → 200 OK

Отрицательные значения цен → 200 OK

Отсутствие обязательных полей → 200 OK
```

**Ожидаемое поведение:**

`400 Bad Request с описанием ошибок валидации`

**Ответ системы:**

```
{"status": "Сохранили объявление - f4v1c8h8"}
```

## Критические уязвимости
### 3. Системная ошибка обработки идентификаторов

**Сценарий:**

Запросы с некорректными UUID

**Пример:**

```
GET /api/2/statistic/pupupu
```

**Ожидаемо:**

`400 Bad Request с описанием ошибки`

**Реальность:**

`200 OK с фиктивными значениями:`

```
[{
  "contacts": 999999999,
  "likes": 999999999,
  "viewCount": 999999999
}]
```

### 4. Некорректная обработка удалений
**Сценарий:**

Повторное удаление несуществующего объекта

**Шаги:**

1. Удалить существующее объявление

2. Повторно выполнить DELETE для того же ID

**Ожидаемо:**

`Последовательные 404 Not Found`

**Фактически:**

```
{
  "result": {"message": ""},
  "status": "500"  # Расхождение с HTTP-статусом
}
```

## Существенные проблемы

### 5. Нарушение согласованности статусов

**Сценарий:**

Запросы к несуществующим ресурсам

**Примеры эндпоинтов:**

```
/api/2/statistic/

/api/1/item/
```

**Ожидаемо:**

```
{"code": "404", "message": "Route not found"}
```
**Реальность:**

Несоответствие кодов ответа:

```
{"code": "400", "message": "Route not found"}
```

### 6. Ошибки форматирования ответов

**Сценарий:**

Некорректные типы данных

**Пример запроса:**

```
{
  "price": "пять тысяч",
  "statistics": {"likes": "пять"}
}
```
**Ожидаемо:**

Четкое указание на ошибку типа данных

**Фактически:**

Ответ с опечаткой:
```
{
  "status": "не передано тело объявлени"  # Орфографическая ошибка
}
```

## Проблемы средней важности
### 7. Отсутствие ограничений длины

**Сценарий:**

Сверхдлинные значения полей

**Пример:**
```
{
  "name": "Название длиннее 64 символов...",
  "price": 100,
  "sellerId": 731986
}
```

**Ожидаемо:**

Ошибка валидации длины поля

**Реальность:**

Успешное создание объекта

## Незначительные дефекты

### 8. Расхождение временных меток

**Сценарий:**

Проверка даты создания

**Фактически:**

Поле createdAt показывает дату на +24 часа к реальному времени